import{S as Ne,e as ye,r as o,N as $e,g as je,j as t,i as V,h as Fe,o as Le,l as Ge,U as He,V as Be,W as qe,Y as Ue,Z as Ve,a as Me,$ as Je,A as Qe,w as Ye}from"./index-BlrzyESk.js";import{o as ve,q as Ke,m as Ce,c as oe,h as Xe,B as Y,V as L,r as Ze,i as K,j as ne,C as X,k as se,l as Z,n as et,T as W,H as O,S as ke,t as tt,s as rt,P as ot,F as nt,f as ge,p as Re,e as st,b as at}from"./StopIcon-DJeEz5ZF.js";function it(e){const r=e.ownerDocument.defaultView||window,{overflow:n,overflowX:s,overflowY:i}=r.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(n+i+s)}function lt(e){return e.localName==="html"?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}function Ae(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:Ne(e)&&it(e)?e:Ae(lt(e))}function me(e,r,n,s){const i=ye(n);return o.useEffect(()=>{const a=typeof e=="function"?e():e??document;if(!(!n||!a))return a.addEventListener(r,i,s),()=>{a.removeEventListener(r,i,s)}},[r,e,s,i,n]),()=>{(typeof e=="function"?e():e??document)?.removeEventListener(r,i,s)}}var he,Ee;function ct(){return Ee||(Ee=1,he=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var r=document.activeElement,n=[],s=0;s<e.rangeCount;s++)n.push(e.getRangeAt(s));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),r&&r.focus()}}),he}var be,Te;function dt(){if(Te)return be;Te=1;var e=ct(),r={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function s(a){var l=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,l)}function i(a,l){var f,w,g,m,C,c,y=!1;l||(l={}),f=l.debug||!1;try{g=e(),m=document.createRange(),C=document.getSelection(),c=document.createElement("span"),c.textContent=a,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(p){if(p.stopPropagation(),l.format)if(p.preventDefault(),typeof p.clipboardData>"u"){f&&console.warn("unable to use e.clipboardData"),f&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var S=r[l.format]||r.default;window.clipboardData.setData(S,a)}else p.clipboardData.clearData(),p.clipboardData.setData(l.format,a);l.onCopy&&(p.preventDefault(),l.onCopy(p.clipboardData))}),document.body.appendChild(c),m.selectNodeContents(c),C.addRange(m);var x=document.execCommand("copy");if(!x)throw new Error("copy command was unsuccessful");y=!0}catch(p){f&&console.error("unable to copy using execCommand: ",p),f&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(l.format||"text",a),l.onCopy&&l.onCopy(window.clipboardData),y=!0}catch(S){f&&console.error("unable to copy using clipboardData: ",S),f&&console.error("falling back to prompt"),w=s("message"in l?l.message:n),window.prompt(w,a)}}finally{C&&(typeof C.removeRange=="function"?C.removeRange(m):C.removeAllRanges()),c&&document.body.removeChild(c),g()}return y}return be=i,be}var ut=dt();const De=$e(ut);function we(e,r={}){const[n,s]=o.useState(!1),[i,a]=o.useState(e);o.useEffect(()=>a(e),[e]);const{timeout:l=1500,...f}=typeof r=="number"?{timeout:r}:r,w=o.useCallback(g=>{const m=typeof g=="string"?g:i;"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>s(!0)).catch(()=>s(De(m,f))):s(De(m,f))},[i,f]);return o.useEffect(()=>{let g=null;return n&&(g=window.setTimeout(()=>{s(!1)},l)),()=>{g&&window.clearTimeout(g)}},[l,n]),{value:i,setValue:a,onCopy:w,hasCopied:n}}function pt(e={}){const{onClose:r,onOpen:n,isOpen:s,id:i}=e,a=ye(n),l=ye(r),[f,w]=o.useState(e.defaultIsOpen||!1),g=s!==void 0?s:f,m=s!==void 0,C=o.useId(),c=i??`disclosure-${C}`,y=o.useCallback(()=>{m||w(!1),l?.()},[m,l]),x=o.useCallback(()=>{m||w(!0),a?.()},[m,a]),p=o.useCallback(()=>{g?y():x()},[g,x,y]);function S(v={}){return{...v,"aria-expanded":g,"aria-controls":c,onClick(P){v.onClick?.(P),p()}}}function R(v={}){return{...v,hidden:!g,id:c}}return{isOpen:g,onOpen:x,onClose:y,onToggle:p,isControlled:m,getButtonProps:S,getDisclosureProps:R}}function ft(e,r,n){return e.__cssMap?.[`${r}.${n}`]?.varRef??n}const de=je((e,r)=>{const{icon:n,children:s,isRound:i,"aria-label":a,...l}=e,f=n||s,w=o.isValidElement(f)?o.cloneElement(f,{"aria-hidden":!0,focusable:!1}):null;return t.jsx(ve,{px:"0",py:"0",borderRadius:i?"full":void 0,ref:r,"aria-label":a,...l,children:w})});de.displayName="IconButton";const We=je(function(r,n){const{direction:s,align:i,justify:a,wrap:l,basis:f,grow:w,shrink:g,...m}=r,C={display:"flex",flexDirection:s,alignItems:i,justifyContent:a,flexWrap:l,flexBasis:f,flexGrow:w,flexShrink:g};return t.jsx(V.div,{ref:n,__css:C,...m})});We.displayName="Flex";const ee=(e,r)=>({var:e,varRef:r?`var(${e}, ${r})`:`var(${e})`}),k={arrowShadowColor:ee("--popper-arrow-shadow-color"),arrowSize:ee("--popper-arrow-size","8px"),arrowSizeHalf:ee("--popper-arrow-size-half"),arrowBg:ee("--popper-arrow-bg"),transformOrigin:ee("--popper-transform-origin"),arrowOffset:ee("--popper-arrow-offset")};function gt(e){if(e.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const mt={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},ht=e=>mt[e],Oe={scroll:!0,resize:!0};function bt(e){let r;return typeof e=="object"?r={enabled:!0,options:{...Oe,...e}}:r={enabled:e,options:Oe},r}const wt={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const r=e.elements.reference;e.elements.popper.style.width=`${r.offsetWidth}px`}},xt={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{ze(e)},effect:({state:e})=>()=>{ze(e)}},ze=e=>{e.elements.popper.style.setProperty(k.transformOrigin.var,ht(e.placement))},yt={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{vt(e)}},vt=e=>{if(!e.placement)return;const r=Ct(e.placement);if(e.elements?.arrow&&r){Object.assign(e.elements.arrow.style,{[r.property]:r.value,width:k.arrowSize.varRef,height:k.arrowSize.varRef,zIndex:-1});const n={[k.arrowSizeHalf.var]:`calc(${k.arrowSize.varRef} / 2 - 1px)`,[k.arrowOffset.var]:`calc(${k.arrowSizeHalf.varRef} * -1)`};for(const s in n)e.elements.arrow.style.setProperty(s,n[s])}},Ct=e=>{if(e.startsWith("top"))return{property:"bottom",value:k.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:k.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:k.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:k.arrowOffset.varRef}},St={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{_e(e)},effect:({state:e})=>()=>{_e(e)}},_e=e=>{if(!e.elements.arrow)return;const r=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!r)return;const n=gt(e.placement);n&&r.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(r.style,{transform:"rotate(45deg)",background:k.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},jt={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Pt={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function kt(e,r="ltr"){const n=jt[e]?.[r]||e;return r==="ltr"?n:Pt[e]??n}function Rt(e={}){const{enabled:r=!0,modifiers:n,placement:s="bottom",strategy:i="absolute",arrowPadding:a=8,eventListeners:l=!0,offset:f,gutter:w=8,flip:g=!0,boundary:m="clippingParents",preventOverflow:C=!0,matchWidth:c,direction:y="ltr"}=e,x=o.useRef(null),p=o.useRef(null),S=o.useRef(null),R=kt(s,y),v=o.useRef(()=>{}),P=o.useCallback(()=>{!r||!x.current||!p.current||(v.current?.(),S.current=Ke(x.current,p.current,{placement:R,modifiers:[St,yt,xt,{...wt,enabled:!!c},{name:"eventListeners",...bt(l)},{name:"arrow",options:{padding:a}},{name:"offset",options:{offset:f??[0,w]}},{name:"flip",enabled:!!g,options:{padding:8}},{name:"preventOverflow",enabled:!!C,options:{boundary:m}},...n??[]],strategy:i}),S.current.forceUpdate(),v.current=S.current.destroy)},[R,r,n,c,l,a,f,w,g,C,m,i]);o.useEffect(()=>()=>{!x.current&&!p.current&&(S.current?.destroy(),S.current=null)},[]);const z=o.useCallback(h=>{x.current=h,P()},[P]),I=o.useCallback((h={},T=null)=>({...h,ref:Ce(z,T)}),[z]),E=o.useCallback(h=>{p.current=h,P()},[P]),b=o.useCallback((h={},T=null)=>({...h,ref:Ce(E,T),style:{...h.style,position:i,minWidth:c?void 0:"max-content",inset:"0 auto auto 0"}}),[i,E,c]),N=o.useCallback((h={},T=null)=>{const{size:G,shadowColor:te,bg:re,style:H,...F}=h;return{...F,ref:T,"data-popper-arrow":"",style:Et(h)}},[]),_=o.useCallback((h={},T=null)=>({...h,ref:T,"data-popper-arrow-inner":""}),[]);return{update(){S.current?.update()},forceUpdate(){S.current?.forceUpdate()},transformOrigin:k.transformOrigin.varRef,referenceRef:z,popperRef:E,getPopperProps:b,getArrowProps:N,getArrowInnerProps:_,getReferenceProps:I}}function Et(e){const{size:r,shadowColor:n,bg:s,style:i}=e,a={...i,position:"absolute"};return r&&(a["--popper-arrow-size"]=r),n&&(a["--popper-arrow-shadow-color"]=n),s&&(a["--popper-arrow-bg"]=s),a}function Tt(e){const r=o.version;return typeof r!="string"||r.startsWith("18.")?e?.ref:e?.props?.ref}const Dt={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},Se=e=>e.current?.ownerDocument||document,ue=e=>e.current?.ownerDocument?.defaultView||window;function Ot(e={}){const{openDelay:r=0,closeDelay:n=0,closeOnClick:s=!0,closeOnMouseDown:i,closeOnScroll:a,closeOnPointerDown:l=i,closeOnEsc:f=!0,onOpen:w,onClose:g,placement:m,id:C,isOpen:c,defaultIsOpen:y,arrowSize:x=10,arrowShadowColor:p,arrowPadding:S,modifiers:R,isDisabled:v,gutter:P,offset:z,direction:I,...E}=e,{isOpen:b,onOpen:N,onClose:_}=pt({isOpen:c,defaultIsOpen:y,onOpen:w,onClose:g}),{referenceRef:h,getPopperProps:T,getArrowInnerProps:G,getArrowProps:te}=Rt({enabled:b,placement:m,arrowPadding:S,modifiers:R,gutter:P,offset:z,direction:I}),re=o.useId(),F=`tooltip-${C??re}`,A=o.useRef(null),B=o.useRef(void 0),$=o.useCallback(()=>{B.current&&(clearTimeout(B.current),B.current=void 0)},[]),M=o.useRef(void 0),q=o.useCallback(()=>{M.current&&(clearTimeout(M.current),M.current=void 0)},[]),J=o.useCallback(()=>{q(),_()},[_,q]),ae=zt(A,J),Q=o.useCallback(()=>{if(!v&&!B.current){b&&ae();const u=ue(A);B.current=u.setTimeout(N,r)}},[ae,v,b,N,r]),D=o.useCallback(()=>{$();const u=ue(A);M.current=u.setTimeout(J,n)},[n,J,$]),ie=o.useCallback(()=>{b&&s&&D()},[s,D,b]),le=o.useCallback(()=>{b&&l&&D()},[l,D,b]),fe=o.useCallback(u=>{b&&u.key==="Escape"&&D()},[b,D]);me(()=>Se(A),"keydown",f?fe:void 0),me(()=>{if(!a)return null;const u=A.current;if(!u)return null;const j=Ae(u);return j.localName==="body"?ue(A):j},"scroll",()=>{b&&a&&J()},{passive:!0,capture:!0}),o.useEffect(()=>{v&&($(),b&&_())},[v,b,_,$]),o.useEffect(()=>()=>{$(),q()},[$,q]),me(()=>A.current,"pointerleave",D);const ce=o.useCallback((u={},j=null)=>({...u,ref:Ce(A,j,h),onPointerEnter:oe(u.onPointerEnter,Ie=>{Ie.pointerType!=="touch"&&Q()}),onClick:oe(u.onClick,ie),onPointerDown:oe(u.onPointerDown,le),onFocus:oe(u.onFocus,Q),onBlur:oe(u.onBlur,D),"aria-describedby":b?F:void 0}),[Q,D,le,b,F,ie,h]),d=o.useCallback((u={},j=null)=>T({...u,style:{...u.style,[k.arrowSize.var]:x?`${x}px`:void 0,[k.arrowShadowColor.var]:p}},j),[T,x,p]),U=o.useCallback((u={},j=null)=>{const Pe={...u.style,position:"relative",transformOrigin:k.transformOrigin.varRef};return{ref:j,...E,...u,id:F,role:"tooltip",style:Pe}},[E,F]);return{isOpen:b,show:Q,hide:D,getTriggerProps:ce,getTooltipProps:U,getTooltipPositionerProps:d,getArrowProps:te,getArrowInnerProps:G}}const xe="chakra-ui:close-tooltip";function zt(e,r){return o.useEffect(()=>{const n=Se(e);return n.addEventListener(xe,r),()=>n.removeEventListener(xe,r)},[r,e]),()=>{const n=Se(e),s=ue(e);n.dispatchEvent(new s.CustomEvent(xe))}}const _t=V(Ve.div),pe=je((e,r)=>{const n=Fe("Tooltip",e),s=Le(e),i=Ge(),{children:a,label:l,shouldWrapChildren:f,"aria-label":w,hasArrow:g,bg:m,portalProps:C,background:c,backgroundColor:y,bgColor:x,motionProps:p,animatePresenceProps:S,...R}=s,v=c??y??m??x;if(v){n.bg=v;const h=ft(i,"colors",v);n[k.arrowBg.var]=h}const P=Ot({...R,direction:i.direction}),z=!o.isValidElement(a)||f;let I;if(z)I=t.jsx(V.span,{display:"inline-block",tabIndex:0,...P.getTriggerProps(),children:a});else{const h=o.Children.only(a);I=o.cloneElement(h,P.getTriggerProps(h.props,Tt(h)))}const E=!!w,b=P.getTooltipProps({},r),N=E?He(b,["role","id"]):b,_=Be(b,["role","id"]);return l?t.jsxs(t.Fragment,{children:[I,t.jsx(qe,{...S,children:P.isOpen&&t.jsx(Ue,{...C,children:t.jsx(V.div,{...P.getTooltipPositionerProps(),__css:{zIndex:n.zIndex,pointerEvents:"none"},children:t.jsxs(_t,{variants:Dt,initial:"exit",animate:"enter",exit:"exit",...p,...N,__css:n,children:[l,E&&t.jsx(V.span,{srOnly:!0,..._,children:w}),g&&t.jsx(V.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:t.jsx(V.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:n.bg}})})]})})})})]}):t.jsx(t.Fragment,{children:a})});pe.displayName="Tooltip";const It=()=>{const{user:e}=Me(),{currentTheme:r}=Je(),n=Xe(),s=o.useRef(null),[i,a]=o.useState(!1),[l,f]=o.useState(""),[w,g]=o.useState("python"),[m,C]=o.useState("utility_function"),[c,y]=o.useState(!1),[x,p]=o.useState(0),[S,R]=o.useState(""),[v,P]=o.useState(""),[z,I]=o.useState(""),[E,b]=o.useState(""),[N,_]=o.useState(null),[h,T]=o.useState(null),[G,te]=o.useState([]),[re,H]=o.useState(""),{onCopy:F,hasCopied:A}=we(v),{onCopy:B,hasCopied:$}=we(E),{onCopy:M,hasCopied:q}=we(z),J=[{value:"python",label:"Python"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"java",label:"Java"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"}],ae=[{value:"utility_function",label:"Utility Function"},{value:"class_definition",label:"Class Definition"},{value:"api_endpoint",label:"API Endpoint"},{value:"data_structure",label:"Data Structure"},{value:"algorithm",label:"Algorithm"},{value:"test_suite",label:"Test Suite"},{value:"configuration",label:"Configuration"},{value:"microservice",label:"Microservice"}],Q={analyzing_requirements:{label:"Analyzing Requirements",progress:20},generating_structure:{label:"Generating Structure",progress:40},adding_business_logic:{label:"Adding Business Logic",progress:60},adding_error_handling:{label:"Adding Error Handling",progress:80},finalizing_code:{label:"Finalizing Code",progress:100}};o.useEffect(()=>(e&&(()=>{const U=`ws://localhost:8000/ws/ai?user_id=${e?.id||"anonymous"}`;s.current=new WebSocket(U),s.current.onopen=()=>{console.log("ðŸ”— WebSocket connected for streaming code generation"),a(!0),H("")},s.current.onmessage=u=>{try{const j=JSON.parse(u.data);D(j)}catch(j){console.error("Failed to parse WebSocket message:",j)}},s.current.onclose=()=>{console.log("ðŸ”Œ WebSocket disconnected"),a(!1),y(!1)},s.current.onerror=u=>{console.error("WebSocket error:",u),H("Connection error. Please try again."),y(!1)}})(),()=>{s.current&&s.current.close()}),[e]);const D=d=>{switch(d.type){case"connection_established":console.log("âœ… Code generation WebSocket ready"),n({title:"Connected",description:"Ready to generate code",status:"success",duration:3e3,isClosable:!0});break;case"code_generation_started":y(!0),p(0),R("Starting code generation..."),H(""),ie(),n({title:"Generation Started",description:"Your code is being generated",status:"info",duration:3e3,isClosable:!0});break;case"code_generation_progress":const U=d.data,u=Q[U.step];u&&(p(u.progress),R(u.label));break;case"code_generation_complete":const j=d.data;P(j.code||""),I(j.documentation||""),b(j.test_code||""),_(j.quality_score),T(j.security_score),te(j.dependencies||[]),y(!1),p(100),R("Code generation completed!");break;case"error":H(d.data.error||"An error occurred during code generation"),y(!1),p(0),R("");break;default:console.log("Unknown message type:",d.type)}},ie=()=>{P(""),I(""),b(""),_(null),T(null),te([])},le=()=>{if(!i||!s.current||!l.trim()){H("Please enter a description and ensure connection is active");return}const d={type:"code_generation_request",data:{description:l.trim(),language:w,code_type:m},id:Date.now().toString()};s.current.send(JSON.stringify(d))},fe=()=>{s.current&&c&&(s.current.close(),y(!1),p(0),R("Generation stopped"))},ce=d=>d>=8?"green":d>=6?"yellow":"red";return t.jsx(Y,{minH:"100vh",bg:r.colors.background,color:r.colors.text,p:{base:4,md:6},children:t.jsxs(L,{spacing:{base:4,md:6},maxW:"6xl",mx:"auto",px:{base:2,sm:4},children:[t.jsxs(We,{align:"center",gap:3,role:"banner",direction:{base:"column",sm:"row"},textAlign:{base:"center",sm:"left"},children:[t.jsx(Ze,{className:"w-8 h-8","aria-hidden":"true"}),t.jsx(K,{size:{base:"md",lg:"lg"},as:"h1",children:"Streaming Code Generator"}),t.jsx(ne,{colorScheme:i?"green":"red","aria-label":`Connection status: ${i?"Connected":"Disconnected"}`,children:i?"Connected":"Disconnected"})]}),re&&t.jsxs(Qe,{status:"error",children:[t.jsx(Ye,{}),re]}),t.jsxs(X,{w:"full",as:"section",role:"form","aria-labelledby":"form-heading",children:[t.jsx(se,{children:t.jsx(K,{size:"md",as:"h2",id:"form-heading",children:"Code Generation Request"})}),t.jsx(Z,{children:t.jsxs(L,{spacing:4,children:[t.jsx(et,{placeholder:"Describe the code you want to generate (e.g., 'Create a function that validates email addresses')",value:l,onChange:d=>f(d.target.value),size:"lg",minH:"120px",resize:"vertical","aria-label":"Code description","aria-describedby":"description-help",required:!0}),t.jsx(W,{id:"description-help",fontSize:"sm",color:"gray.600","sr-only":!0,children:"Provide a detailed description of the code you want to generate"}),t.jsxs(L,{spacing:4,w:"full",direction:{base:"column",md:"row"},as:O,children:[t.jsxs(Y,{flex:1,w:"full",children:[t.jsx(W,{mb:2,fontWeight:"semibold",as:"label",htmlFor:"language-select",children:"Language"}),t.jsx(ke,{id:"language-select",value:w,onChange:d=>g(d.target.value),"aria-label":"Select programming language",children:J.map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))})]}),t.jsxs(Y,{flex:1,w:"full",children:[t.jsx(W,{mb:2,fontWeight:"semibold",as:"label",htmlFor:"code-type-select",children:"Code Type"}),t.jsx(ke,{id:"code-type-select",value:m,onChange:d=>C(d.target.value),"aria-label":"Select code type",children:ae.map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))})]})]}),t.jsxs(O,{children:[t.jsx(ve,{leftIcon:t.jsx(tt,{className:"w-4 h-4","aria-hidden":"true"}),colorScheme:"blue",onClick:le,disabled:!i||c||!l.trim(),isLoading:c,loadingText:"Generating...","aria-label":"Generate code based on description","aria-describedby":i?void 0:"connection-error",children:"Generate Code"}),c&&t.jsx(ve,{leftIcon:t.jsx(rt,{className:"w-4 h-4","aria-hidden":"true"}),colorScheme:"red",variant:"outline",onClick:fe,"aria-label":"Stop code generation",children:"Stop"})]}),!i&&t.jsx(W,{id:"connection-error",fontSize:"sm",color:"red.500","sr-only":!0,children:"Connection required to generate code"})]})})]}),c&&t.jsx(X,{w:"full",role:"status","aria-live":"polite","aria-label":"Code generation progress",children:t.jsx(Z,{children:t.jsxs(L,{spacing:3,children:[t.jsxs(O,{w:"full",justify:"space-between",align:"center",children:[t.jsx(W,{fontWeight:"semibold","aria-describedby":"progress-bar",children:S}),t.jsxs(W,{fontSize:"sm",fontWeight:"medium",color:"blue.500",children:[x,"%"]})]}),t.jsx(ot,{id:"progress-bar",value:x,w:"full",colorScheme:"blue",hasStripe:!0,isAnimated:!0,size:"lg","aria-label":`Code generation ${x}% complete`}),t.jsxs(O,{w:"full",justify:"space-between",align:"center",children:[t.jsx(W,{fontSize:"sm",color:r.colors.textSecondary,children:"Generating your code..."}),t.jsxs(W,{fontSize:"xs",color:r.colors.textSecondary,children:[Math.ceil((100-x)/20)," steps remaining"]})]})]})})}),v&&t.jsxs(L,{spacing:6,w:"full",children:[t.jsxs(X,{w:"full",children:[t.jsx(se,{children:t.jsx(K,{size:"md",children:"Quality Metrics"})}),t.jsx(Z,{children:t.jsxs(O,{spacing:6,children:[N!==null&&t.jsxs(L,{children:[t.jsx(W,{fontSize:"sm",color:r.colors.textSecondary,children:"Quality Score"}),t.jsxs(ne,{colorScheme:ce(N),fontSize:"lg",px:3,py:1,children:[N,"/10"]})]}),h!==null&&t.jsxs(L,{children:[t.jsx(W,{fontSize:"sm",color:r.colors.textSecondary,children:"Security Score"}),t.jsxs(ne,{colorScheme:ce(h),fontSize:"lg",px:3,py:1,children:[h,"/10"]})]}),G.length>0&&t.jsxs(L,{align:"start",children:[t.jsx(W,{fontSize:"sm",color:r.colors.textSecondary,children:"Dependencies"}),t.jsxs(O,{wrap:"wrap",children:[G.slice(0,5).map((d,U)=>t.jsx(ne,{colorScheme:"purple",children:d},U)),G.length>5&&t.jsxs(ne,{colorScheme:"gray",children:["+",G.length-5," more"]})]})]})]})})]}),t.jsxs(X,{w:"full",children:[t.jsx(se,{children:t.jsxs(O,{justify:"space-between",children:[t.jsxs(O,{children:[t.jsx(nt,{className:"w-5 h-5"}),t.jsx(K,{size:"md",children:"Generated Code"})]}),t.jsx(pe,{label:A?"Copied!":"Copy code",children:t.jsx(de,{icon:t.jsx(ge,{className:"w-4 h-4"}),size:"sm",onClick:F,colorScheme:A?"green":"gray"})})]})}),t.jsx(Z,{children:t.jsx(Y,{as:"pre",bg:r.colors.surface,p:4,borderRadius:"md",overflow:"auto",maxH:"400px",fontSize:"sm",fontFamily:"monospace",children:t.jsx(Re,{children:v})})})]}),z&&t.jsxs(X,{w:"full",children:[t.jsx(se,{children:t.jsxs(O,{justify:"space-between",children:[t.jsxs(O,{children:[t.jsx(st,{className:"w-5 h-5"}),t.jsx(K,{size:"md",children:"Documentation"})]}),t.jsx(pe,{label:q?"Copied!":"Copy documentation",children:t.jsx(de,{icon:t.jsx(ge,{className:"w-4 h-4"}),size:"sm",onClick:M,colorScheme:q?"green":"gray"})})]})}),t.jsx(Z,{children:t.jsx(Y,{as:"pre",bg:r.colors.surface,p:4,borderRadius:"md",overflow:"auto",maxH:"300px",fontSize:"sm",whiteSpace:"pre-wrap",children:z})})]}),E&&t.jsxs(X,{w:"full",children:[t.jsx(se,{children:t.jsxs(O,{justify:"space-between",children:[t.jsxs(O,{children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx(K,{size:"md",children:"Test Code"})]}),t.jsx(pe,{label:$?"Copied!":"Copy test code",children:t.jsx(de,{icon:t.jsx(ge,{className:"w-4 h-4"}),size:"sm",onClick:B,colorScheme:$?"green":"gray"})})]})}),t.jsx(Z,{children:t.jsx(Y,{as:"pre",bg:r.colors.surface,p:4,borderRadius:"md",overflow:"auto",maxH:"300px",fontSize:"sm",fontFamily:"monospace",children:t.jsx(Re,{children:E})})})]})]})]})})};export{It as default};
//# sourceMappingURL=StreamingCodeGenerator-BY1gfsDy.js.map
