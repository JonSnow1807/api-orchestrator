import{c as b,u as w,a as v,r as c,j as e,C as k,f as g}from"./index-CHNg1Ngc.js";import{A as _}from"./arrow-left-BKQ8E-nQ.js";import{U as C}from"./upload-v8lHMVlK.js";import{Z as P}from"./zap-CI-x92DH.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],A=b("folder-plus",S);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],L=b("git-branch",D),I=()=>{const l=w(),{user:i}=v(),[d,u]=c.useState(!1),[p,x]=c.useState(""),[t,m]=c.useState("directory"),[r,y]=c.useState({name:"",description:"",source_path:"",github_url:"",framework:"auto-detect",include_tests:!0,include_mock:!0,include_ai_analysis:!0}),f=async n=>{n.preventDefault(),x(""),u(!0);try{const a={name:r.name,description:r.description,source_type:t,source_path:t==="directory"?r.source_path:r.github_url,config:{framework:r.framework,include_tests:r.include_tests,include_mock:r.include_mock,include_ai_analysis:r.include_ai_analysis}},o=(await g.post("/api/projects",a)).data;a.source_path&&await g.post(`/api/projects/${o.id}/orchestrate`),l(`/projects/${o.id}`)}catch(a){x(a.response?.data?.detail||"Failed to create project")}finally{u(!1)}},s=n=>{const{name:a,value:h,type:o,checked:j}=n.target;y(N=>({...N,[a]:o==="checkbox"?j:h}))};return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("header",{className:"bg-gray-800/50 backdrop-blur-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-between items-center py-4",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>l("/dashboard"),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Dashboard"})]})})})})}),e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur rounded-xl border border-gray-700 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 p-3 rounded-xl",children:e.jsx(A,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Project"}),e.jsx("p",{className:"text-gray-400",children:"Set up your API orchestration project"})]})]}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-lg flex items-center gap-2 text-red-400",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:p})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Name *"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:s,required:!0,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"My API Project"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:r.description,onChange:s,rows:3,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe your project..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>m("directory"),className:`p-4 rounded-lg border-2 transition ${t==="directory"?"bg-purple-600/20 border-purple-500 text-purple-400":"bg-gray-900/50 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[e.jsx(C,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("span",{className:"text-sm",children:"Local Directory"})]}),e.jsxs("button",{type:"button",onClick:()=>m("github"),className:`p-4 rounded-lg border-2 transition ${t==="github"?"bg-purple-600/20 border-purple-500 text-purple-400":"bg-gray-900/50 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[e.jsx(L,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("span",{className:"text-sm",children:"GitHub Repository"})]})]})]}),t==="directory"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source Directory Path"}),e.jsx("input",{type:"text",name:"source_path",value:r.source_path,onChange:s,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"/path/to/your/api/code"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to configure later"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub Repository URL"}),e.jsx("input",{type:"url",name:"github_url",value:r.github_url,onChange:s,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://github.com/username/repository"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Framework"}),e.jsxs("select",{name:"framework",value:r.framework,onChange:s,className:"w-full px-4 py-2.5 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"auto-detect",children:"Auto-detect"}),e.jsx("option",{value:"fastapi",children:"FastAPI"}),e.jsx("option",{value:"flask",children:"Flask"}),e.jsx("option",{value:"django",children:"Django"}),e.jsx("option",{value:"express",children:"Express.js"}),e.jsx("option",{value:"nestjs",children:"NestJS"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Generation Options"}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"include_tests",checked:r.include_tests,onChange:s,className:"w-4 h-4 bg-gray-900 border-gray-700 rounded text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-gray-300",children:"Generate test suites"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"include_mock",checked:r.include_mock,onChange:s,className:"w-4 h-4 bg-gray-900 border-gray-700 rounded text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-gray-300",children:"Create mock server"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"include_ai_analysis",checked:r.include_ai_analysis,onChange:s,disabled:i?.subscription_tier==="free",className:"w-4 h-4 bg-gray-900 border-gray-700 rounded text-purple-600 focus:ring-purple-500 disabled:opacity-50"}),e.jsxs("span",{className:"text-gray-300",children:["AI-powered analysis",i?.subscription_tier==="free"&&e.jsx("span",{className:"ml-2 text-xs text-yellow-500",children:"(Pro feature)"})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l("/dashboard"),className:"flex-1 py-3 px-4 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d||!r.name,className:"flex-1 py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(P,{className:"w-5 h-5 mr-2"}),"Create Project"]})})]})]})]})})]})};export{I as default};
//# sourceMappingURL=ProjectCreate-_bUJjPwj.js.map
